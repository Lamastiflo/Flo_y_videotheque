{"mappings":"AAAA,SAAS,gBAAgB,CAAC,oBAAoB;IAC1C,MAAM,aAAa,SAAS,cAAc,CAAC;IAC3C,MAAM,aAAa,SAAS,cAAc,CAAC;IAC3C,MAAM,gBAAgB,SAAS,cAAc,CAAC;IAE9C,WAAW,gBAAgB,CAAC,UAAU,CAAC;QACnC,MAAM,cAAc;QACpB,MAAM,QAAQ,SAAS,cAAc,CAAC,cAAc,KAAK,CAAC,IAAI;QAC9D,MAAM,OAAO,SAAS,cAAc,CAAC,aAAa,KAAK;QACvD,MAAM,OAAO,SAAS,cAAc,CAAC,cAAc,KAAK;QAExD,aAAa,OAAO,MAAM;IAC9B;IAEA,SAAS,aAAa,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC;QAC7C,MAAM,SAAS;QACf,MAAM,MAAM,CAAC,gCAAgC,EAAE,OAAO,GAAG,EAAE,MAAM,GAAG,EAAE,KAAK,MAAM,EAAE,KAAK,MAAM,EAAE,KAAK,CAAC;QAEtG,MAAM,KACD,IAAI,CAAC,CAAA,WAAY,SAAS,IAAI,IAC9B,IAAI,CAAC,CAAA;YACF,eAAe;YACf,gBAAgB,MAAM,OAAO,MAAM;QACvC,GACC,KAAK,CAAC,CAAA,QAAS,QAAQ,KAAK,CAAC,WAAW;QACzC,QAAQ,GAAG,CAAC;IACpB;IAEA,SAAS,eAAe,IAAI;QACxB,WAAW,SAAS,GAAG;QACvB,IAAI,KAAK,QAAQ,KAAK,QAClB,KAAK,MAAM,CAAC,OAAO,CAAC,CAAA;YAChB,MAAM,eAAe,SAAS,aAAa,CAAC;YAC5C,aAAa,SAAS,GAAG,CAAC;8BACZ,EAAE,MAAM,MAAM,KAAK,QAAQ,MAAM,MAAM,GAAG,+BAA+B,OAAO,EAAE,MAAM,KAAK,CAAC;wBACpG,EAAE,MAAM,KAAK,CAAC;uBACf,EAAE,MAAM,IAAI,CAAC;gBACpB,CAAC;YACD,WAAW,WAAW,CAAC;QAC3B;aAEA,WAAW,SAAS,GAAG,CAAC,GAAG,EAAE,KAAK,KAAK,CAAC,IAAI,CAAC;IAErD;IAEA,SAAS,gBAAgB,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI;QAC5C,cAAc,SAAS,GAAG;QAC1B,IAAI,KAAK,YAAY,GAAG,IAAI;YACxB,MAAM,aAAa,KAAK,IAAI,CAAC,KAAK,YAAY,GAAG;YACjD,IAAK,IAAI,IAAI,GAAG,KAAK,YAAY,IAAK;gBAClC,MAAM,aAAa,SAAS,aAAa,CAAC;gBAC1C,WAAW,SAAS,GAAG;gBACvB,WAAW,SAAS,GAAG;gBACvB,WAAW,gBAAgB,CAAC,SAAS;oBACjC,WAAW,cAAc;oBACzB,aAAa,OAAO,MAAM,MAAM;gBACpC;gBACA,cAAc,WAAW,CAAC;YAC9B;QACJ;IACJ;AACJ","sources":["assets/js/search.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\r\n    const searchForm = document.getElementById('rechercheForm');\r\n    const resultsDiv = document.getElementById('resultats');\r\n    const paginationDiv = document.getElementById('pagination');\r\n\r\n    searchForm.addEventListener('submit', (event) => {\r\n        event.preventDefault(); \r\n        const title = document.getElementById('titleInput').value.trim();\r\n        const year = document.getElementById('yearInput').value;\r\n        const type = document.getElementById('typeSelect').value;\r\n\r\n        searchMovies(title, year, type);\r\n    });\r\n\r\n    function searchMovies(title, year, type, page = 1) {\r\n        const apiKey = '2bcd0c1';\r\n        const url = `https://www.omdbapi.com/?apikey=${apiKey}&s=${title}&y=${year}&type=${type}&page=${page}`;\r\n\r\n        fetch(url)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                displayResults(data);\r\n                setupPagination(data, title, year, type);\r\n            })\r\n            .catch(error => console.error('Erreur:', error));\r\n            console.log(url)\r\n    }\r\n\r\n    function displayResults(data) {\r\n        resultsDiv.innerHTML = '';\r\n        if (data.Response === 'True') {\r\n            data.Search.forEach(movie => {\r\n                const movieElement = document.createElement('div');\r\n                movieElement.innerHTML = `\r\n                    <img src=\"${movie.Poster !== 'N/A' ? movie.Poster : 'https://placehold.co/200x300'}\" alt=\"${movie.Title}\">\r\n                    <h3>${movie.Title}</h3>\r\n                    <p>${movie.Year}</p>\r\n                `;\r\n                resultsDiv.appendChild(movieElement);\r\n            });\r\n        } else {\r\n            resultsDiv.innerHTML = `<p>${data.Error}</p>`;\r\n        }\r\n    }\r\n\r\n    function setupPagination(data, title, year, type) {\r\n        paginationDiv.innerHTML = '';\r\n        if (data.totalResults > 10) {\r\n            const totalPages = Math.ceil(data.totalResults / 10);\r\n            for (let i = 1; i <= totalPages; i++) {\r\n                const pageButton = document.createElement('button');\r\n                pageButton.className = 'page'\r\n                pageButton.innerText = i;\r\n                pageButton.addEventListener('click', () => {\r\n                    resultsDiv.scrollIntoView();\r\n                    searchMovies(title, year, type, i);\r\n                });\r\n                paginationDiv.appendChild(pageButton);\r\n            }\r\n        }\r\n    }\r\n})\r\n"],"names":[],"version":3,"file":"Recherche.22bbd4b9.js.map","sourceRoot":"/__parcel_source_root/"}